version: 2.1

jobs:
  run-migrations:
    docker:
      - image: python:3.7-alpine3.11
    steps:
      - checkout 
      - run: apk add --update tar gzip curl wget sudo
      - run:
          name: Install dependencies
          command: |
            sudo curl --silent --location "https://github.com/weaveworks/eksctl/releases/download/latest_release/eksctl_$(uname -s)_amd64.tar.gz" | tar xz -C /tmp
            


workflows:
  my_workflow:
    jobs:
      - run-migrations